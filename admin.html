<!-- ===================================
   ARQUIVO: admin.html
   DESCRI√á√ÉO: Interface do Painel Administrativo
   =================================== -->
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Administrativo</title>
    <link rel="stylesheet" href="admin.css">
</head>
<body>
    <div class="admin-container">
        <header class="admin-header">
            <h1>Painel Administrativo</h1>
            <button class="btn btn-secondary btn-small" onclick="window.close()">Sair</button>
        </header>

        <div class="admin-content">
            <div class="admin-tabs">
                <button class="tab-btn active" data-tab="config">Configura√ß√µes</button>
                <button class="tab-btn" data-tab="produtos">Produtos</button>
                <button class="tab-btn" data-tab="funcionarios">Funcion√°rios</button>
                <button class="tab-btn" data-tab="despesas">Despesas</button>
                <button class="tab-btn" data-tab="relatorio">Relat√≥rio</button>
                <button class="tab-btn" data-tab="financeiro">Financeiro</button>
                <button class="tab-btn" data-tab="usuarios">Usu√°rios</button>
                <button class="tab-btn" data-tab="metadiaria">Meta Di√°ria</button>
            </div>

            <!-- TAB CONFIGURA√á√ïES -->
            <div id="configTab" class="tab-content active">
                <h2>Configura√ß√µes do Sistema</h2>
                
                <div class="logo-section">
                    <h3>Logo da Empresa</h3>
                    <p class="logo-description">Fa√ßa upload da logo que aparecer√° no PDV e no Card√°pio Digital</p>
                    
                    <div class="form-group">
                        <label>Selecione a Logo:</label>
                        <input type="file" id="logoUpload" accept="image/*">
                    </div>
                    
                    <div id="logoPreviewContainer" class="logo-preview-container">
                        <p class="preview-label">Logo Atual:</p>
                        <img id="logoPreview" class="logo-preview">
                        <button class="btn btn-danger btn-small remove-logo-btn" onclick="removeLogo()">Remover Logo</button>
                    </div>
                </div>
            </div>

            <!-- TAB PRODUTOS -->
            <div id="produtosTab" class="tab-content">
                <h2>Gerenciar Produtos</h2>
                
                <div style="display: flex; gap: 10px; margin-bottom: 20px;">
                    <button class="btn btn-primary" id="showProductFormBtn">Novo Produto</button>
                    <button class="btn btn-danger" id="deleteAllProductsBtn">Excluir Todos os Produtos</button>
                </div>
                
                <div id="productFormContainer" class="form-container">
                    <form id="productForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Nome do Produto:*</label>
                                <input type="text" id="prodName" required>
                            </div>
                            <div class="form-group">
                                <label>C√≥digo do Produto:*</label>
                                <input type="text" id="prodCode" maxlength="6" placeholder="Ex: ABC123" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Categoria:*</label>
                                <select id="prodCategory" required>
                                    <option value="">Selecione...</option>
                                    <option value="alimentos">Alimentos</option>
                                    <option value="bebidas">Bebidas</option>
                                    <option value="assados">Assados</option>
                                    <option value="frios">Frios</option>
                                    <option value="mercearia">Mercearia</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Imagem do Produto (Opcional):</label>
                                <input type="file" id="prodImage" accept="image/*">
                                <img id="imagePreview" class="image-preview">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Descri√ß√£o:</label>
                            <textarea id="prodDescription" placeholder="Descri√ß√£o opcional do produto"></textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Pre√ßo:*</label>
                                <input type="number" id="prodPrice" step="0.01" required>
                            </div>
                            <div class="form-group">
                                <label>Quantidade em Estoque:*</label>
                                <input type="number" id="prodStock" min="0" max="999999" placeholder="M√°x: 999999" required>
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-success">Salvar Produto</button>
                            <button type="button" class="btn btn-secondary" id="cancelProductBtn">Cancelar</button>
                        </div>
                    </form>
                </div>

                <table class="table">
                    <thead>
                        <tr>
                            <th>Imagem</th>
                            <th>C√≥digo</th>
                            <th>Nome</th>
                            <th>Categoria</th>
                            <th>Descri√ß√£o</th>
                            <th>Pre√ßo</th>
                            <th>Estoque</th>
                            <th>Status</th>
                            <th>Ativar/Desativar</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="productsTable"></tbody>
                </table>
            </div>

            <!-- TAB FUNCION√ÅRIOS -->
            <div id="funcionariosTab" class="tab-content">
                <h2>Gerenciar Funcion√°rios</h2>
                
                <button class="btn btn-primary" id="showEmployeeFormBtn" style="margin-bottom: 20px;">Novo Funcion√°rio</button>

                <div id="employeeFormContainer" class="form-container">
                    <form id="employeeForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Nome Completo:*</label>
                                <input type="text" id="employeeName" required pattern="^[A-Za-z√Ä-√ø\s]+\s+[A-Za-z√Ä-√ø\s]+$" title="Informe nome e sobrenome">
                            </div>
                            <div class="form-group">
                                <label>Cargo:*</label>
                                <input type="text" id="employeePosition" required placeholder="Ex: Vendedor, Gerente, Caixa">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Sal√°rio:*</label>
                                <input type="number" id="employeeSalary" step="0.01" required placeholder="0,00">
                            </div>
                            <div class="form-group">
                                <label>Telefone:</label>
                                <input type="tel" id="employeePhone" placeholder="(00) 00000-0000">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>E-mail:</label>
                            <input type="email" id="employeeEmail" placeholder="email@exemplo.com">
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-success">Cadastrar Funcion√°rio</button>
                            <button type="button" class="btn btn-secondary" id="cancelEmployeeBtn">Cancelar</button>
                        </div>
                    </form>
                </div>

                <table class="table">
                    <thead>
                        <tr>
                            <th>Nome</th>
                            <th>Cargo</th>
                            <th>Sal√°rio</th>
                            <th>Telefone</th>
                            <th>Status</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="employeesTable"></tbody>
                </table>
            </div>

            <!-- TAB DESPESAS -->
            <div id="despesasTab" class="tab-content">
                <h2>Gerenciar Despesas</h2>
                
                <div class="expense-header">
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <button class="btn btn-primary" id="showExpenseFormBtn">Nova Despesa</button>
                        <button class="btn btn-success" id="showEmployeeExpenseBtn">Despesa com Funcion√°rio</button>
                        <button class="btn btn-danger" id="deleteAllExpensesBtn">Excluir Todas as Despesas</button>
                    </div>
                    
                    <div class="expense-summary">
                        <div class="expense-summary-item">
                            <span class="expense-summary-label">Total do M√™s:</span>
                            <span class="expense-summary-value" id="monthTotalExpense">R$ 0,00</span>
                        </div>
                        <div class="expense-summary-item">
                            <span class="expense-summary-label">Valor Pago:</span>
                            <span class="expense-summary-value expense-paid" id="monthPaidExpense">R$ 0,00</span>
                        </div>
                        <div class="expense-summary-item">
                            <span class="expense-summary-label">A Pagar:</span>
                            <span class="expense-summary-value expense-pending" id="monthPendingExpense">R$ 0,00</span>
                        </div>
                    </div>

                    <div style="display:flex; gap:10px; margin-top:20px;">
                        <div class="form-group" style="flex:1;">
                            <label>Filtrar por Nome:</label>
                            <select id="filterExpenseName" class="form-control">
                                <option value="todos">Todas</option>
                            </select>
                        </div>
                        <div class="form-group" style="flex:1;">
                            <label>Filtrar por Status:</label>
                            <select id="filterExpenseStatus" class="form-control">
                                <option value="todos">Todas</option>
                                <option value="pago">Pago</option>
                                <option value="nao-pago">A Pagar</option>
                                <option value="mes-vigente">M√™s Vigente</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div id="expenseFormContainer" class="form-container">
                    <form id="expenseForm">
                        <div id="employeeExpenseSection" style="display:none; background:#e3f2fd; padding:15px; border-radius:8px; margin-bottom:15px;">
                            <h4 style="color:#1976d2; margin-bottom:10px;">üíº Despesa com Funcion√°rio</h4>
                            <div class="form-group">
                                <label>Selecione o Funcion√°rio:*</label>
                                <select id="employeeSelect">
                                    <option value="">Carregando...</option>
                                </select>
                            </div>
                            <p style="font-size:12px; color:#555; margin-top:10px;">O sal√°rio ser√° preenchido automaticamente. Voc√™ pode ajustar se necess√°rio.</p>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label>Descri√ß√£o:*</label>
                                <input type="text" id="expDesc" required>
                            </div>
                            <div class="form-group">
                                <label>Valor:*</label>
                                <input type="number" id="expValue" step="0.01" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Data:*</label>
                                <input type="date" id="expDate" required>
                            </div>
                            <div class="form-group">
                                <label>Status do Pagamento:*</label>
                                <select id="expPaymentStatus" required>
                                    <option value="pending">A Pagar</option>
                                    <option value="paid">Pago</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="expRecurring">
                                    Despesa Recorrente
                                </label>
                            </div>
                        </div>
                        <div class="form-row" id="recurringMonths" style="display:none;">
                            <div class="form-group">
                                <label>Repetir por quantos meses:*</label>
                                <input type="number" id="expMonths" min="1" max="60">
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-success">Salvar Despesa</button>
                            <button type="button" class="btn btn-secondary" id="cancelExpenseBtn">Cancelar</button>
                        </div>
                    </form>
                </div>

                <div id="expensesList"></div>
            </div>

            <!-- TAB RELAT√ìRIO -->
            <div id="relatorioTab" class="tab-content">
                <h2>Relat√≥rios de Vendas</h2>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Total de Vendas</h3>
                        <div class="value" id="totalSales">0</div>
                    </div>
                    <div class="stat-card">
                        <h3>Receita Total</h3>
                        <div class="value" id="totalRevenue">R$ 0,00</div>
                    </div>
                    <div class="stat-card">
                        <h3>Ticket M√©dio</h3>
                        <div class="value" id="avgTicket">R$ 0,00</div>
                    </div>
                </div>

                <table class="table">
                    <thead>
                        <tr>
                            <th>Data</th>
                            <th>Cliente</th>
                            <th>Itens</th>
                            <th>Pagamento</th>
                            <th>Total</th>
                            <th>Vendedor</th>
                        </tr>
                    </thead>
                    <tbody id="salesTable"></tbody>
                </table>
            </div>

            <!-- TAB FINANCEIRO -->
            <div id="financeiroTab" class="tab-content">
                <h2>Resumo Financeiro</h2>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Receitas</h3>
                        <div class="value" id="finRevenue">R$ 0,00</div>
                    </div>
                    <div class="stat-card">
                        <h3>Despesas</h3>
                        <div class="value" id="finExpenses">R$ 0,00</div>
                    </div>
                    <div class="stat-card">
                        <h3>Lucro</h3>
                        <div class="value" id="finProfit">R$ 0,00</div>
                    </div>
                </div>

                <h3 class="section-title">Despesas por M√™s</h3>
                <div id="expensesByMonth"></div>
            </div>

            <!-- TAB USU√ÅRIOS -->
            <div id="usuariosTab" class="tab-content">
                <h2>Gerenciar Usu√°rios</h2>
                
                <button class="btn btn-primary" id="showUserFormBtn" style="margin-bottom: 20px;">Novo Usu√°rio Administrador</button>

                <div id="userFormContainer" class="form-container">
                    <form id="userForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Nome Completo:*</label>
                                <input type="text" id="userName" required pattern="^[A-Za-z√Ä-√ø\s]+\s+[A-Za-z√Ä-√ø\s]+$" title="Informe Sobrenome">
                            </div>
                            <div class="form-group">
                                <label>Usu√°rio (Login):*</label>
                                <input type="text" id="userUsername" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Senha:*</label>
                                <input type="password" id="userPassword" required>
                            </div>
                            <div class="form-group">
                                <label>Pergunta Secreta:*</label>
                                <select id="userSecretQuestion" required>
                                    <option value="">Selecione...</option>
                                    <option value="pet">Qual o nome do seu primeiro pet?</option>
                                    <option value="city">Em qual cidade voc√™ nasceu?</option>
                                    <option value="school">Nome da sua primeira escola?</option>
                                    <option value="mother">Nome de solteira da sua m√£e?</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Resposta da Pergunta Secreta:*</label>
                            <input type="text" id="userSecretAnswer" required>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-success">Cadastrar Administrador</button>
                            <button type="button" class="btn btn-secondary" id="cancelUserBtn">Cancelar</button>
                        </div>
                    </form>
                </div>

                <table class="table">
                    <thead>
                        <tr>
                            <th>Nome</th>
                            <th>Usu√°rio</th>
                            <th>Tipo</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="usersTable"></tbody>
                </table>
            </div>

            <!-- TAB META DI√ÅRIA -->
            <div id="metadiariaTab" class="tab-content">
                <h2>Meta de Vendas Di√°ria</h2>
                <p class="tab-description">Calcule quanto voc√™ precisa vender por dia para cobrir suas despesas mensais</p>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Total de Despesas do M√™s</h3>
                        <div class="value value-danger" id="totalExpensesMonth">R$ 0,00</div>
                    </div>
                    <div class="stat-card">
                        <h3>Dias do M√™s</h3>
                        <div class="value" id="workingDays">0</div>
                    </div>
                    <div class="stat-card">
                        <h3>Meta de Venda Di√°ria</h3>
                        <div class="value" id="dailyGoal">R$ 0,00</div>
                    </div>
                </div>

                <div class="config-box">
                    <h3>Configurar Dias de Funcionamento</h3>
                    <p class="config-description">Selecione quantos dias por semana o seu neg√≥cio funciona:</p>
                    
                    <div class="form-group">
                        <label>Dias de funcionamento por semana:</label>
                        <select id="workingDaysPerWeek">
                            <option value="5">5 dias (Segunda a Sexta)</option>
                            <option value="6" selected>6 dias (Segunda a S√°bado)</option>
                            <option value="7">7 dias (Todos os dias)</option>
                        </select>
                    </div>

                    <div class="interpretation-box">
                        <h4>Interpreta√ß√£o:</h4>
                        <p id="goalInterpretation">Configure os dias de funcionamento para ver a meta di√°ria.</p>
                    </div>
                </div>

                <div class="config-box">
                    <h3>Despesas do M√™s Atual</h3>
                    <div id="currentMonthExpensesList"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="admin.js"></script>
</body>
</html>